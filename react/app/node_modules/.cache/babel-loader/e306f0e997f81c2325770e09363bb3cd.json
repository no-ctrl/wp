{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Filip\\\\Desktop\\\\proektWP\\\\react\\\\app\\\\src\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      const endpoint = \"http://localhost:8080/authenticate\";\n      const username = this.state.username;\n      const password = this.state.password;\n      const user_object = {\n        username: username,\n        password: password\n      };\n      axios.post(endpoint, user_object).then(res => {\n        localStorage.setItem(\"authorization\", res.data.token);\n        return this.handleDashboard();\n      });\n    };\n\n    this.state = {\n      username: \"admin\",\n      password: \"admin\"\n    };\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleDashboard() {\n    axios.get(\"http://localhost:8080/dashboard\").then(res => {\n      if (res.data === \"success\") {\n        this.props.history.push(\"/dashboard\");\n      } else {\n        alert(\"Authentication failure\");\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      class: \"form-signin\",\n      onSubmit: this.handleFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"form-signin-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, \"Please login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"User name\",\n      value: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      placeholder: \"password\",\n      value: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-lg btn-primary btn-block\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, \"Login\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Filip/Desktop/proektWP/react/app/src/Login.js"],"names":["React","Component","axios","Login","constructor","handleFormSubmit","event","preventDefault","endpoint","username","state","password","user_object","post","then","res","localStorage","setItem","data","token","handleDashboard","bind","get","props","history","push","alert","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAC5BG,EAAAA,WAAW,GAAG;AACZ;;AADY,SAUdC,gBAVc,GAUMC,KAAD,IAAW;AAC5BA,MAAAA,KAAK,CAACC,cAAN;AAEA,YAAMC,QAAQ,GAAG,oCAAjB;AAEA,YAAMC,QAAQ,GAAG,KAAKC,KAAL,CAAWD,QAA5B;AACA,YAAME,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA5B;AAEA,YAAMC,WAAW,GAAG;AAClBH,QAAAA,QAAQ,EAAEA,QADQ;AAElBE,QAAAA,QAAQ,EAAEA;AAFQ,OAApB;AAKAT,MAAAA,KAAK,CAACW,IAAN,CAAWL,QAAX,EAAqBI,WAArB,EAAkCE,IAAlC,CAAwCC,GAAD,IAAS;AAC9CC,QAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCF,GAAG,CAACG,IAAJ,CAASC,KAA/C;AACA,eAAO,KAAKC,eAAL,EAAP;AACD,OAHD;AAID,KA3Ba;;AAGZ,SAAKV,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAAE,OADC;AAEXE,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKN,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBgB,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AAqBDD,EAAAA,eAAe,GAAG;AAChBlB,IAAAA,KAAK,CAACoB,GAAN,CAAU,iCAAV,EAA6CR,IAA7C,CAAmDC,GAAD,IAAS;AACzD,UAAIA,GAAG,CAACG,IAAJ,KAAa,SAAjB,EAA4B;AAC1B,aAAKK,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD,OAFD,MAEO;AACLC,QAAAA,KAAK,CAAC,wBAAD,CAAL;AACD;AACF,KAND;AAOD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,KAAK,EAAC,aAAZ;AAA0B,MAAA,QAAQ,EAAE,KAAKtB,gBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAC,qBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAC,cAFR;AAGE,MAAA,WAAW,EAAC,WAHd;AAIE,MAAA,KAAK,EAAC,OAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,eAUE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,EAAC,cAFR;AAGE,MAAA,WAAW,EAAC,UAHd;AAIE,MAAA,KAAK,EAAC,OAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAVF,eAkBE;AAAQ,MAAA,KAAK,EAAC,kCAAd;AAAiD,MAAA,IAAI,EAAC,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAlBF,CADF,CADF,CADF;AA4BD;;AArE2B;;AAuE9B,eAAeF,KAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: \"admin\",\r\n      password: \"admin\",\r\n    };\r\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n  }\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n\r\n    const username = this.state.username;\r\n    const password = this.state.password;\r\n\r\n    const user_object = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    axios.post(endpoint, user_object).then((res) => {\r\n      localStorage.setItem(\"authorization\", res.data.token);\r\n      return this.handleDashboard();\r\n    });\r\n  };\r\n\r\n  handleDashboard() {\r\n    axios.get(\"http://localhost:8080/dashboard\").then((res) => {\r\n      if (res.data === \"success\") {\r\n        this.props.history.push(\"/dashboard\");\r\n      } else {\r\n        alert(\"Authentication failure\");\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div class=\"wrapper\">\r\n          <form class=\"form-signin\" onSubmit={this.handleFormSubmit}>\r\n            <h2 class=\"form-signin-heading\">Please login</h2>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                placeholder=\"User name\"\r\n                value=\"admin\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                placeholder=\"password\"\r\n                value=\"admin\"\r\n              />\r\n            </div>\r\n            <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n              Login\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}